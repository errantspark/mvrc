-- xmobar configuration file
--
-- Mess with this file to change the appearance of the contents of the
-- status bar which are not directly controlled by xmonad. You can see your
-- changes immediately by recompiling xmonad using "super-q".
-- 
-- There's a lot you can do here. Refer to "man xmobar".
-- 
-- Author: David Brewer
-- Repository: https://github.com/davidbrewer/xmonad-ubuntu-conf
--    Run Date "%a %b %_d %H:%M" "date" 10,



Config {
  -- Set font and default foreground/background colors. Note that
  -- the height of xmobar is controlled by the font you use.
  -- font = "xft:ProggyCleanTTSZ:style=regular:pixelsize=16",
  bgColor = "black",
  fgColor = "grey",

  -- Position is top left, taking up 95% of screen.
  -- You are likely to have to tweak the width here based on the width
  -- of your screen to make it play nicely with stalonetray, which we
  -- want to be taking up the remainer of the space on the right side
  -- of your screen.
  --  position = Static {xpos = 3840, ypos = 0,width = 1794, height= 18},
  position = TopP 0 126

  -- list of commands which gather information about your system for
  -- presentation in the bar.
  commands = [
    -- Run WeatherX "KSFO" ["-t", "<station>: <tempC>C"] 36000,
    -- Run Weather "KNUQ" ["-t","Wind <wind> Visibility:<visibility> <pressure>mb <skyCondition> <tempC>C","-L","18","-H","25","--normal","green","--high","red","--low","lightblue"] 36000,
    -- Gather and format CPU usage information.
    -- If it's above 50%, we consider it high usage and make it red.
    --
    --
    --

 -- network activity monitor (dynamic interface resolution)
         Run DynNetwork     [ "--template" , "<dev> u: <tx> d: <rx>"
                             , "--s"      , "True"       -- units: B/s
                             , "--Low"      , "1000"       -- units: B/s
                             , "--High"     , "5000"       -- units: B/s
                             , "--low"      , "green"
                             , "--normal"   , "orange"
                             , "--high"     , "red"
                             ] 10

        -- cpu activity monitor
        , Run MultiCpu       [ "--template" , "Cpu: <total0>%|<total1>%<total2>%|<total3>%"
                             , "--Low"      , "50"         -- units: %
                             , "--High"     , "85"         -- units: %
                             , "--low"      , "green"
                             , "--normal"   , "orange"
                             , "--high"     , "red"
                             ] 10

        -- cpu core temperature monitor
        , Run CoreTemp       [ "--template" , "Temp: <core0>째C|<core1>째C"
                             , "--Low"      , "70"        -- units: 째C
                             , "--High"     , "80"        -- units: 째C
                             , "--low"      , "green"
                             , "--normal"   , "orange"
                             , "--high"     , "red"
                             ] 50
                          
        -- memory usage monitor
        , Run Memory         [ "--template" ,"Mem: <usedratio>%"
                             , "--Low"      , "20"        -- units: %
                             , "--High"     , "90"        -- units: %
                             , "--low"      , "green"
                             , "--normal"   , "orange"
                             , "--high"     , "red"
                             ] 10

        -- battery monitor
        , Run Battery        [ "--template" , "Batt: <acstatus>"
                             , "--Low"      , "10"        -- units: %
                             , "--High"     , "80"        -- units: %
                             , "--low"      , "red"
                             , "--normal"   , "orange"
                             , "--high"     , "green"

                             , "--" -- battery specific options
                                       -- discharging status
                                       , "-o"	, "<left>%" --(<timeleft>)"
                                       -- AC "on" status
                                       , "-O"	, "<fc=#dAA520>Charging</fc>"
                                       -- charged status
                                       , "-i"	, "<fc=#00cc00>Charged</fc>"
                             ] 50

    
    -- Date formatting
    ,Run Date "%a %b %_d %H:%M.%S" "date" 10,

    
    -- To get volume information, we run a custom bash script.
    -- This is because the built-in volume support in xmobar is disabled
    -- in Debian and derivatives like Ubuntu.
    -- Run Com "~/.xmonad/get-volume" [] "myvolume" 10
  -- Run BatteryP ["BAT0"]
  --           ["-t", "<acstatus><watts> (<left>%)",
  --            "-L", "10", "-H", "80", "-p", "3",
  --            "--", "-O", "<fc=green>On</fc> - ", "-i", "",
  --            "-L", "-15", "-H", "-5",
  --            "-l", "red", "-m", "blue", "-h", "green"]
  --           60   ,
    -- This line tells xmobar to read input from stdin. That's how we
    -- get the information that xmonad is sending it for display.
    Run Com "/home/errata/.xmobar/pubip.sh" [] "publicip" 600,
    Run Com "/home/errata/.xmobar/bridgeip.sh" [] "bridgeip" 600,
    Run Com "/home/errata/.xmobar/pingone.sh" [] "ping" 600,
    Run Com "/home/errata/.xmobar/nameserver.sh" [] "nameserver" 600,
    Run StdinReader
   ],

   -- Separator character used to wrape variables in the xmobar template
   sepChar = "%",

   -- Alignment separater characer used in the xmobar template. Everything
   -- before this will be aligned left, everything after aligned right.
   alignSep = "}{",

   -- Overall template for the layout of the xmobar contents. Note that
   -- space is significant and can be used to add padding.
   template = " <fc=#e6744c>%publicip%</fc> <fc=#e6aa4c>%bridgeip%</fc> <fc=#e674cc>%nameserver%</fc> | <fc=#cccccc>%ping%</fc>  } %StdinReader% { %dynnetwork% | %battery% | %multicpu% | %memory% | <fc=#e6744c>%date%</fc> "
   --template = " } %StdinReader% { %cpu% | %memory% | <fc=#e6744c>%date%</fc> "
   -- template = "%StdinReader% }{ %KNUQ% | %battery% | %cpu% | %memory% | Vol: %myvolume% <fc=#e6744c>%date%</fc> "
}
